{% extends "base.html" %}
{% import "_fields.html" as field %}
{% block title %} {{ super() }} {% endblock %}

{% block content %}

{% if "username" not in session %}
<h1 class="title">Welcome to the login page</h1>

<div class="container mx-auto">
  <div class="col-md-6 offset-md-3 border rounded">
    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    <ul class="list-unstyled">
      {% for category, message in messages %}
      <li class="bg-{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

    <form action="{{ url_for('login') }}" method="post">
      {{ field.login_form(form) }}
    </form>
  </div>
</div>
{% endif %}

{% endblock %}